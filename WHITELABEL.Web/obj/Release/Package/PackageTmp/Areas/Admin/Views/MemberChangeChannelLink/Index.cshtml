@model WHITELABEL.Data.Models.TBL_MASTER_MEMBER
@{
                /**/

                ViewBag.Title = "Index";
                Layout = "~/Areas/Admin/Views/Shared/_LayoutAdmin.cshtml";
}

@Scripts.Render("~/bundles/ChangeSuperDistributorID")

<div class="content" style="margin-top:20px;">
    
    <div class="display-animation">
        <div class="full-content margin-bottom-40 bg-white" id="Bill_page">
            <div class="row example-row" style="min-height:350px;">

                <div class="col-md-12">
                    <div class="col-md-12 row headcolor">
                        <div class="col-md-4" style="text-align:left; padding-top:3px;"><i class="fa fa-align-left fa-3x"></i></div>
                        <div class="col-md-4"></div>
                        <div class="col-md-4" style="text-align:right; padding-top:10px;">
                            <h3>
                                Change Channel Members
                            </h3>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <div class="card-body">
                        <div class="col-md-12">
                            <ul class="nav nav-tabs nav-justified" role="tablist" id="utiliti_css">
                                @*<li class="active">
                    <a href="#tab4_1" data-toggle="tab">
                        <span class="svg_holder">
                        </span> <span class="text_holder">Distributor</span>
                    </a>
                </li>*@
                                <li class="active">
                                    <a href="#tab4_2" data-toggle="tab">
                                        <span class="svg_holder">
                                        </span> <span class="text_holder">Merchant</span>
                                    </a>
                                </li>
                            </ul>
                            <div class="tab-content">
                                @*<div class="tab-pane active" id="tab4_1">
                    @Html.Action("ChangeDistributorLink", "MemberChangeChannelLink", new { area = "Admin" })
                </div>*@
                                <div class="tab-pane active" id="tab4_2">
                                    <div class="panel-body">
                                        @Html.Action("ChangeMerchantLink", "MemberChangeChannelLink", new { area = "Admin" })
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


                
            </div>
        </div>
    </div>
</div>




<!-- Change Distributor Introducer  -->
@using (Ajax.BeginForm("PostChangeSuperIDInformation", "MemberChangeChannelLink", new AjaxOptions { Confirm = "Do you want to change Distributor super", OnSuccess = "OnSuccessChangeSuperID", OnFailure = "OnFailureChangeSuperID", LoadingElementId = "progressChangeSuperID" }, new { area = "Admin", @id = "ChangeSuperID" }))
{
    <div id="transactionvalueid" class="modal scale fade transd" tabindex="-1" role="dialog" aria-hidden="true">
        @Html.AntiForgeryToken()
        @*@Html.HiddenFor(m => m.MEM_ID, new { htmlAttributes = new { @id = "distributorMem_ID" } })*@
        @Html.EditorFor(m => m.MEM_ID, new { htmlAttributes = new { @id = "distributorMem_ID", @style = "display:none;" } })
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Change Distributor Introducer </h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>

                </div>
                <div class="modal-body">
                    <div class="col-md-12 row">
                        <div class="col-md-4" style="padding-top:10px;">Super User Name : </div>
                        <div class="col-md-8">
                            <div class="inputer">
                                <div class="input-wrapper">
                                    @Html.DropDownListFor(model => model.SUPER_ID, new SelectList((ViewBag.DistributorIntroducerList) as SelectList, "Value", "Text"), "Select Super", new { id = "SuperIntroId", @class = "form-control" })
                                    @*@Html.HiddenFor(model => model.DISTRIBUTOR_ID, new { htmlAttributes = new { id = "DistributorID" } })*@
                                </div>
                                <span class="help-block"><small>@Html.ValidationMessageFor(model => model.SUPER_ID, "", new { @class = "text-danger" })</small></span>
                            </div>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <div class="col-md-12 row">
                        <div class="col-md-4" style="padding-top:10px;">Distributor Name : </div>
                        <div class="col-md-8">
                            <div class="inputer">
                                <div class="input-wrapper">
                                    @Html.EditorFor(m => m.MEMBER_NAME, new { htmlAttributes = new { @style = " width:100%; padding:5px;", @class = "form-control", @id = "txtDistributorName", @readonly = true } })

                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <div class="col-md-12 row">
                        <div class="col-md-4" style="padding-top:10px;">Email ID : </div>
                        <div class="col-md-8">
                            <div class="inputer">
                                <div class="input-wrapper">
                                    @Html.EditorFor(m => m.EMAIL_ID, new { htmlAttributes = new { @style = " width:100%; padding:5px;", @class = "form-control", @id = "txtDistributorEmail", @readonly = true } })

                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <div class="col-md-12 row">
                        <div class="col-md-4" style="padding-top:10px;">Mobile No : </div>
                        <div class="col-md-8">
                            <div class="inputer">
                                <div class="input-wrapper">
                                    @Html.EditorFor(m => m.MEMBER_MOBILE, new { htmlAttributes = new { @style = " width:100%; padding:5px;", @class = "form-control", @id = "txtDistributorMobile", @readonly = true } })
                                    @Html.EditorFor(m => m.DISTRIBUTOR_ID, new { htmlAttributes = new { @id = "DisID", @style = "display:none;" } })
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
                <div class="modal-footer">
                    <input type="submit" value="Change Super" class="btn btn-info btn-lg" id="valuesubmit" />
                </div>
            </div>
        </div>

    </div>
}
@*<div id="" class="loading hidden">Loading&#8230;</div>*@


<div class="preloader hidden" id="progressChangeSuperID" style="display:none;">
    <div id="loading"></div>
</div>


<script type="text/javascript">
    $(document).ready(function () {
        $('#progressChangeSuperID').removeClass("hidden");
        $('#progressChangeSuperID').hide();
    })
    function OnSuccessChangeSuperID(response) {
        debugger;
        $('.mvc-grid').mvcgrid('reload');
        var message = response;
        //$("#FingerPrintForm").trigger("reset");
        bootbox.alert({
            message: message,
            size: 'small',
            callback: function () {
                console.log(message);
                $('#transactionvalueid').modal('hide');
                $('.transd').modal('hide');
            }
        })
        $('.mvc-grid').mvcgrid('reload');
        //callGeocodeMobile();
        //alert(message);
    }
    function OnFailureChangeSuperID(response) {
        alert("Error occured.");
    }
</script>
<!-- End code for change distributor introducer -->
<!-- Change Merchant Introducer  -->
@using (Ajax.BeginForm("PostChangeMerchantInformation", "MemberChangeChannelLink", new AjaxOptions { Confirm = "Do you want to change Distributor", OnSuccess = "OnSuccessChangeDistributorID", OnFailure = "OnFailureChangeDistributorID", LoadingElementId = "progressChangeDistributorID" }, new { area = "Admin", @id = "ChangeDistributorID" }))
{
    <div id="transactionDistributorid" class="modal scale fade transdMerchant" tabindex="-1" role="dialog" aria-hidden="true">
        @Html.AntiForgeryToken()
        @*@Html.HiddenFor(m => m.MEM_ID, new { htmlAttributes = new { @id = "distributorMem_ID" } })*@
        @Html.EditorFor(m => m.MEM_ID, new { htmlAttributes = new { @id = "MerchantMem_ID", @style = "display:none;" } })
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Change Merchant Introducer </h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>

                </div>
                <div class="modal-body">
                    <div class="col-md-12 row">
                        <div class="col-md-4" style="padding-top:10px;">Distributor User Name : </div>
                        <div class="col-md-8">
                            <div class="inputer">
                                <div class="input-wrapper">
                                    @Html.DropDownListFor(model => model.DISTRIBUTOR_ID, new SelectList((ViewBag.DistributorList) as SelectList, "Value", "Text"), "Select Distributor", new { id = "DistributorIntroId", @class = "form-control" })
                                    @*@Html.HiddenFor(model => model.DISTRIBUTOR_ID, new { htmlAttributes = new { id = "DistributorID" } })*@
                                </div>
                                <span class="help-block"><small>@Html.ValidationMessageFor(model => model.SUPER_ID, "", new { @class = "text-danger" })</small></span>
                            </div>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <div class="col-md-12 row">
                        <div class="col-md-4" style="padding-top:10px;">Merchant Name : </div>
                        <div class="col-md-8">
                            <div class="inputer">
                                <div class="input-wrapper">
                                    @Html.EditorFor(m => m.MEMBER_NAME, new { htmlAttributes = new { @style = " width:100%; padding:5px;", @class = "form-control", @id = "txtMerchantName", @readonly = true } })

                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <div class="col-md-12 row">
                        <div class="col-md-4" style="padding-top:10px;">Merchant Email ID : </div>
                        <div class="col-md-8">
                            <div class="inputer">
                                <div class="input-wrapper">
                                    @Html.EditorFor(m => m.EMAIL_ID, new { htmlAttributes = new { @style = " width:100%; padding:5px;", @class = "form-control", @id = "txtMerchantEmail", @readonly = true } })

                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <div class="col-md-12 row">
                        <div class="col-md-4" style="padding-top:10px;">Merchant Mobile No : </div>
                        <div class="col-md-8">
                            <div class="inputer">
                                <div class="input-wrapper">
                                    @Html.EditorFor(m => m.MEMBER_MOBILE, new { htmlAttributes = new { @style = " width:100%; padding:5px;", @class = "form-control", @id = "txtMerchantMobile", @readonly = true } })
                                    @Html.EditorFor(m => m.MEM_ID, new { htmlAttributes = new { @id = "Merchant_MID", @style = "display:none;" } })
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
                <div class="modal-footer">
                    <input type="submit" value="Change Distributor" class="btn btn-info btn-lg" id="valuesubmit" />
                </div>
            </div>
        </div>

    </div>
}
<div class="preloader hidden" id="progressChangeDistributorID" style="display:none;">
    <div id="loading"></div>
</div>
<script type="text/javascript">
    $(document).ready(function () {
        $('#progressChangeDistributorID').removeClass("hidden");
        $('#progressChangeDistributorID').hide();
    })
    function OnSuccessChangeDistributorID(response) {
        debugger;
        $('.mvc-grid').mvcgrid('reload');
        var message = response;
        //$("#FingerPrintForm").trigger("reset");
        bootbox.alert({
            message: message,
            size: 'small',
            callback: function () {
                console.log(message);
                $('#transactionDistributorid').modal('hide');
                $('.transdMerchant').modal('hide');
            }
        })
        $('.mvc-grid').mvcgrid('reload');
        //callGeocodeMobile();
        //alert(message);
    }
    function OnFailureChangeDistributorID(response) {
        alert("Error occured.");
    }
</script>
<!-- End code for change distributor introducer -->
